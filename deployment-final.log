=========================================
Weather Index Insurance Platform
Complete Network Deployment
=========================================

Step 1: Cleaning up any existing network...
Untagged: dev-peer0.platform.insurance.com-premium-pool_2-471ac55be301659a35199000e5454de1c647b77374faedeb8d0c85f0c6aeff05-8c153344ae5fe88ac7b21916767db57b7001b70efb920b66625609a1c8bdf965:latest
Deleted: sha256:7a8f2e5d1c2506d7261ce7abe4a83618a1d66c8cecd5169db36cea9341eb51ff
Deleted: sha256:4eb45ef136bb682bb29a2ae7643975326c6a6f9ba06755db6d542025c33e2cc2
Deleted: sha256:05f08792abc0bea55f55f91c50ee65d7a554291490658d4141406c068a7a81b8
Untagged: dev-peer0.insurer1.insurance.com-weather-oracle_1-447338dcdb3d6d761c45b7c27628607b6ba28002cafabb2c18a8a9d61df38f26-d7a906d2ac6a848ef99e959f18328117f3a8ae9bbc578d6fefd6726b1fc8aacc:latest
Deleted: sha256:a888d6a20480ecd1e011b835a09957010e3dda4a25a99459a58f1dc0861d661a
Deleted: sha256:24dc03120d1aff65e20f3b11954f76c8a2a07ca1f1efb7d6c2eeaeb6c3a502c8
Deleted: sha256:60193c81acfddf9ef2ad64419a49dddb64d2fddbf842f606651203e79567b573
Untagged: dev-peer0.platform.insurance.com-policy_2-b9b32f0fa617e64bce71ed2ea8cdd2ed15d4ddc4e617ffedf9ffaeaa3dadb4b3-fec6a6939c2fb54a6f6d00bddd1905f15c5863033ea558c3a6f2ec17f0b07f4e:latest
Deleted: sha256:2c5005bde831818312fa697bc12ce8eb6042bd75b5bf7c2a8abd64402e9f467a
Deleted: sha256:5a3c7c5824e585fc83349356d53fb21cc61c408bfba552fb4c45189f1caaf726
Deleted: sha256:7e1f97c7f49fb3dd2a1efe31dcb312c5190f65fe85283ff7c31e172e1b27f002
Untagged: dev-peer0.insurer1.insurance.com-policy-template_1-aca4cab61ff184b351c1b43d4a9a5993e8f03f5b58f00210e5a92e4d721547d4-022086d0798022926f5615e32eacd726af668b2dd8549c147280e4da130466c6:latest
Deleted: sha256:df93f6cd3c3ed2349bb950a43812222008aca7b3a9f57441cd442f101f69d492
Deleted: sha256:0cf7750661bc41564fdebac32533eb20be70b13df9e5c34414e771dbe3753594
Deleted: sha256:44fcd3903f1be8e7f9ba5a3c533a859d4575fc842deeb37e54093686fc10d78f
Untagged: dev-peer0.insurer1.insurance.com-farmer_2-4c460a08912469686ab53cd0f866251a80756152e8b34034ca641548bd35ccb5-2e0901cc8b65b3ae825c32ffa1e833f4a77ea8d3be0dfec9420b4149978c6bbf:latest
Deleted: sha256:0deb50b4df690661f37fa989cc4ffdf7f1b1ec52172ea5e9995503e9919c331a
Deleted: sha256:80b383c4fac15dfdd0a00bbff8fb5a03737b183c4a69cb2c16e038c4f6be0d90
Deleted: sha256:e8701dfaa27d131fb0e837dca1b4498eb83da5289919886a206315ee80a2fdf4
Untagged: dev-peer0.platform.insurance.com-access-control_2-b8f913c887b6f11200141cdcbf28d6876aca5b3cf14d5b53490c5b88acd89675-5f0a69ec6223b584bda2af9fc59badd353b9248f2a3f2322b220ee3031ec1746:latest
Deleted: sha256:4dbfecf429aa637367f1b61d4fc7393ba25e24c6d914fdc54e2578fd34e5b4f8
Deleted: sha256:ac711f7cf612201136ceb3fe5b5097c1ccbee6999af6c4b9ca76fdea92fda67b
Deleted: sha256:472c513e9290b1393a4b60579b331b589650e1f57012b2e9f57728f5f7256f22
[0;32mâœ“[0m Cleanup complete

Step 2: Starting Hyperledger Fabric network...
time="2025-11-03T21:35:35+08:00" level=warning msg="/Users/yattmeo/Desktop/SMU/Code/Blockchain proj/Blockchain-Project/network/docker-compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 Network insurance-network  Creating
 Network insurance-network  Created
 Volume network_peer0.insurer1.insurance.com  Creating
 Volume network_peer0.insurer1.insurance.com  Created
 Volume network_peer0.insurer2.insurance.com  Creating
 Volume network_peer0.insurer2.insurance.com  Created
 Volume network_peer0.platform.insurance.com  Creating
 Volume network_peer0.platform.insurance.com  Created
 Volume network_orderer.insurance.com  Creating
 Volume network_orderer.insurance.com  Created
 Volume network_peer0.coop.insurance.com  Creating
 Volume network_peer0.coop.insurance.com  Created
 Container couchdb.insurer2  Creating
 Container couchdb.insurer1  Creating
 Container cli  Creating
 Container orderer.insurance.com  Creating
 Container couchdb.platform  Creating
 Container couchdb.coop  Creating
 Container cli  Created
 Container couchdb.platform  Created
 Container peer0.platform.insurance.com  Creating
 Container orderer.insurance.com  Created
 Container couchdb.coop  Created
 Container peer0.coop.insurance.com  Creating
 Container couchdb.insurer2  Created
 Container peer0.insurer2.insurance.com  Creating
 Container couchdb.insurer1  Created
 Container peer0.insurer1.insurance.com  Creating
 Container peer0.platform.insurance.com  Created
 Container peer0.insurer2.insurance.com  Created
 Container peer0.coop.insurance.com  Created
 Container peer0.insurer1.insurance.com  Created
 Container couchdb.insurer2  Starting
 Container cli  Starting
 Container couchdb.coop  Starting
 Container orderer.insurance.com  Starting
 Container couchdb.platform  Starting
 Container couchdb.insurer1  Starting
 Container couchdb.platform  Started
 Container peer0.platform.insurance.com  Starting
 Container couchdb.insurer1  Started
 Container peer0.insurer1.insurance.com  Starting
 Container couchdb.insurer2  Started
 Container peer0.insurer2.insurance.com  Starting
 Container couchdb.coop  Started
 Container peer0.coop.insurance.com  Starting
 Container cli  Started
 Container orderer.insurance.com  Started
 Container peer0.platform.insurance.com  Started
 Container peer0.insurer1.insurance.com  Started
 Container peer0.insurer2.insurance.com  Started
 Container peer0.coop.insurance.com  Started
[0;32mâœ“[0m Network containers started
Waiting for containers to initialize...
[0;32mâœ“[0m Network ready

Step 3: Creating channel: insurance-main...
[0;32mâœ“[0m Channel created on orderer

Step 4: Joining peers to channel...
[0;32mâœ“[0m Insurer1 peer joined
[0;32mâœ“[0m Insurer2 peer joined
[0;32mâœ“[0m Coop peer joined
[0;32mâœ“[0m Platform peer joined

Step 5: Deploying chaincodes...

  Deploying: access-control v2
    - Packaging (downloading Go modules, this may take 1-2 minutes)...
      Packaging in progress...
    - Installing on all peers...
    - Approving for all organizations...
    - Committing to channel...
[0;32mâœ“[0m   access-control v2 deployed
  Deploying: farmer v2
    - Packaging (downloading Go modules, this may take 1-2 minutes)...
      Packaging in progress...
    - Installing on all peers...
    - Approving for all organizations...
    - Committing to channel...
[0;32mâœ“[0m   farmer v2 deployed
  Deploying: policy-template v1
    - Packaging (downloading Go modules, this may take 1-2 minutes)...
      Packaging in progress...
    - Installing on all peers...
    - Approving for all organizations...
    - Committing to channel...
[0;32mâœ“[0m   policy-template v1 deployed
  Deploying: policy v2
    - Packaging (downloading Go modules, this may take 1-2 minutes)...
      Packaging in progress...
    - Installing on all peers...
    - Approving for all organizations...
    - Committing to channel...
[0;32mâœ“[0m   policy v2 deployed
  Deploying: weather-oracle v1
    - Packaging (downloading Go modules, this may take 1-2 minutes)...
      Packaging in progress...
    - Installing on all peers...
    - Approving for all organizations...
    - Committing to channel...
[0;32mâœ“[0m   weather-oracle v1 deployed
  Deploying: index-calculator v2
    - Packaging (downloading Go modules, this may take 1-2 minutes)...
      Packaging in progress...
    - Installing on all peers...
    - Approving for all organizations...
    - Committing to channel...
[0;32mâœ“[0m   index-calculator v2 deployed
  Deploying: claim-processor v1
    - Packaging (downloading Go modules, this may take 1-2 minutes)...
      Packaging in progress...
    - Installing on all peers...
    - Approving for all organizations...
    - Committing to channel...
[0;32mâœ“[0m   claim-processor v1 deployed
  Deploying: premium-pool v2
    - Packaging (downloading Go modules, this may take 1-2 minutes)...
      Packaging in progress...
    - Installing on all peers...
    - Approving for all organizations...
    - Committing to channel...
[0;32mâœ“[0m   premium-pool v2 deployed

=========================================
[0;32mâœ“âœ“âœ“ DEPLOYMENT COMPLETE âœ“âœ“âœ“[0m
=========================================

Network Status:
  - Network: Running
  - Channel: insurance-main
  - Peers: 4 (All joined)
  - Chaincodes: 8 (All deployed)

Deployed Chaincodes:
  1. access-control v2
  2. farmer v2 (with private data)
  3. policy-template v1
  4. policy v2
  5. weather-oracle v1
  6. index-calculator v2
  7. claim-processor v1
  8. premium-pool v2

Next steps:
  - Run E2E tests: cd test-scripts && ./test-e2e-complete.sh
  - View logs: docker logs <container-name>
  - Bring down: cd network && docker compose down --volumes

